# Intention
This repo contains my effort to get the same results as "Comsol" does but with the difference that only the stiffness matrix and the load vector are known.


# Installation
To avoid to cause any side effects the user is advised to work within a so-called virtual environment. Such one can be created with the command
```
python3 -m venv tutorial-env
```
To change into this the following line needs to be executed
```
source venv/bin/activate 
```

As usual the file *requirements.txt* contains all packages that can be installed on the fly by
```
pip install -r requirements.txt
```
But because for the sake of PETSc this needs to be installed by hand. An instruction is given at [Installation PETSc](https://petsc.org/release/install/).

# Folder structure
## src
Code files in this directory belong to different categories, depending on their beginning:
- FaaS (File as a Service)  
This is a module that does exactly what the name says. It was created to split the (initial) problem into smaller chunks. As the name suggests, these files can be considered as helper files that do the job and can be used as checkpoints for other files. 
- SSoT (Singe Source of Truth)  
These files are to be taken as the solely files that matter. The outcome that anyone might be interested is generated here. If any line of code deviates from the *FaaS* then for good reason. As the other files are there to help/guide you this is the file that must be taken as the last instance.

Each *.py* file contains a block comment section. The idea is to provide instant information of the file and anything else that is to be said about it. It's simply the documentation.
Following categories exist and there's no need that each category is provided for each file:
- purpose  
    what was the original intention of this file, why was this file written...
- workflow  
    what are the mental steps of the code; provided in chunks; are numbered to highligh step-by-step instruction; can be skipped if code is small and self-explaining
- requirement  
    what must be provided in the first place to make it run (if, of course, with correct settings)
- remark  
    what is left said about the file, situation...
- example  
    if this category exists then is shows the result with given input; to demonstrate what kind of problem the file solves
- source  
    where did I get inspired, the information, motivation, hint of code, idea...

Other files contain similar documentation, depending on the situation. Nevertheless, the categories are as self-explaining as I hope.

## data
The folder **data** can be categorized into different groups:
- **external**  
    any data that is not generated by me but got somewhere, somehow else, by someone...
- **finalized**  
    final postprocessed data that is used for (final) evaluation either in FaaS or SSoT.
- **processed**  
    data that is created by my own (in almost all cases by scripts) and that is need for further evaluation. For example, if I have to create (final) *.npz* files from raw data, then the required *.mtx* files are stored here and the *.npz* files are stored in the finalized directory.
- **raw**  
    Here, all raw data is stored. Raw data can be tables generated from *.mph* files or any other format that is 1:1 the data that is generated by another software or result from any others. These files are at least used then for postprocessing.

## doc
Any document, manual, file of information like powerpoint, .pdf files is stored here. 

## comsol
Here all *.mph* files are stored. Any output of that like tables... is stored in the folder **data**. The subdirectories **in_progress** and **finalized** are exactly what you expect as well as *trial*.
- **finalized**  
    files that are considered to be 'done', that are not subjected to any serious change are stored here. From these files 'raw data' is generated.
- **in_progress**  
    this directory contains files that are not finished but are on the way to make it into the directory **finalized**. They are intended to solve the initial asked problems.
- **trials**  
    any additional trials (and errors) to either check if something works as hoped or to either play with the intention to get a deeper understanding of "Comsol" finds its place here. It's ok if is a mess.

## test
The purpose of this folder is to test code that is stored in **src**. The code of a SSoT or of FaaS file is tested manually and the test data for them is stored herein. They serve as a proof of concept. If modifications has to be done (like path to a file or other obvious settings) then these must still be adjusted by hand. It's neither a bug nor a feature, it's the way to make sure the user knows what he's doing.
